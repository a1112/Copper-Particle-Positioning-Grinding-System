# 系统架构

铜粒子定位磨削系统软件开发文档
一、概述
本控制软件是针铜粒子铣床开发的上位机控制系统，具备高性能、高可靠性和良好的人机交互体验。系统采用模块化架构，集成了铜粒子路径规划、运动控制、报警管理、数据记录等核心功能，能够高效支持铜板粒子铣削任务。
二、系统架构与技术实现
1.总体结构
图 1.1 软件结构图

---

铜粒子定位磨削系统软件开发文档
一、概述
本控制软件是针铜粒子铣床开发的上位机控制系统，具备高性能、高可靠性和良好的人机交互体验。系统采用模块化架构，集成了铜粒子路径规划、运动控制、报警管理、数据记录等核心功能，能够高效支持铜板粒子铣削任务。
二、系统架构与技术实现
1.总体结构
图 1.1 软件结构图
系统采用分层架构，主要包括：

---

一、概述
本控制软件是针铜粒子铣床开发的上位机控制系统，具备高性能、高可靠性和良好的人机交互体验。系统采用模块化架构，集成了铜粒子路径规划、运动控制、报警管理、数据记录等核心功能，能够高效支持铜板粒子铣削任务。
二、系统架构与技术实现
1.总体结构
图 1.1 软件结构图
系统采用分层架构，主要包括：
硬件控制层：通过 TCP/IP协议与3D相机进行通讯，实现触发采集点云数据。

---

本控制软件是针铜粒子铣床开发的上位机控制系统，具备高性能、高可靠性和良好的人机交互体验。系统采用模块化架构，集成了铜粒子路径规划、运动控制、报警管理、数据记录等核心功能，能够高效支持铜板粒子铣削任务。
二、系统架构与技术实现
1.总体结构
图 1.1 软件结构图
系统采用分层架构，主要包括：
硬件控制层：通过 TCP/IP协议与3D相机进行通讯，实现触发采集点云数据。
路径规划层：封装路径规划及气缸避让算法，实现一次采集，输出打磨路径坐标，加工数据匹配，气缸避让等多维数据包

---

二、系统架构与技术实现
1.总体结构
图 1.1 软件结构图
系统采用分层架构，主要包括：
硬件控制层：通过 TCP/IP协议与3D相机进行通讯，实现触发采集点云数据。
路径规划层：封装路径规划及气缸避让算法，实现一次采集，输出打磨路径坐标，加工数据匹配，气缸避让等多维数据包
业务逻辑层：封装各类报文解析、自动生成报文、运动模式、流程控制、报警检测及数据管理。

---

系统采用分层架构，主要包括：
硬件控制层：通过 TCP/IP协议与3D相机进行通讯，实现触发采集点云数据。
路径规划层：封装路径规划及气缸避让算法，实现一次采集，输出打磨路径坐标，加工数据匹配，气缸避让等多维数据包
业务逻辑层：封装各类报文解析、自动生成报文、运动模式、流程控制、报警检测及数据管理。
界面交互层：基于 winform技术实现可视化人机界面，提升操控便利性。
远程通讯层：通过基于 TCP 的自定义通讯协议，与机台应用系统实现高效交互。
远程通讯协议

---

超时时间根据具体的通讯方式和任务性质可自定义；
超时重发次数根据具体的通讯方式和任务性质可自定义。
请求方在收到请求回应后规定时间内未收到返回数据或命令执行结果，认为超时，命令执行失败，请求操作结束。
数据结构
图1 通讯协议数据结构
2.1 通讯包结构组成
表1 通讯包结构组成表

---

超时重发次数根据具体的通讯方式和任务性质可自定义。
请求方在收到请求回应后规定时间内未收到返回数据或命令执行结果，认为超时，命令执行失败，请求操作结束。
数据结构
图1 通讯协议数据结构
2.1 通讯包结构组成
表1 通讯包结构组成表
<w:tblPr><w:tblStyle w:val="10"/><w:tblW w:w="0" w:type="auto"/><w:tblInd w:w="0" w:type="dxa"/><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblLayout w:type="autofit"/><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPr><w:tblGrid><w:gridCol w:w="1696"/><w:gridCol w:w="1843"/><w:gridCol w:w="1559"/><w:gridCol w:w="3198"/></w:tblGrid><w:tr w14:paraId="77AEC5D0"><w:tblPrEx><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPrEx><w:tc><w:tcPr><w:tcW w:w="1696" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="B4C6E7" w:themeFill="accent5" w:themeFillTint="66"/></w:tcPr><w:p w14:paraId="40C9B450"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>名称

---

请求方在收到请求回应后规定时间内未收到返回数据或命令执行结果，认为超时，命令执行失败，请求操作结束。
数据结构
图1 通讯协议数据结构
2.1 通讯包结构组成
表1 通讯包结构组成表
<w:tblPr><w:tblStyle w:val="10"/><w:tblW w:w="0" w:type="auto"/><w:tblInd w:w="0" w:type="dxa"/><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblLayout w:type="autofit"/><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPr><w:tblGrid><w:gridCol w:w="1696"/><w:gridCol w:w="1843"/><w:gridCol w:w="1559"/><w:gridCol w:w="3198"/></w:tblGrid><w:tr w14:paraId="77AEC5D0"><w:tblPrEx><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPrEx><w:tc><w:tcPr><w:tcW w:w="1696" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="B4C6E7" w:themeFill="accent5" w:themeFillTint="66"/></w:tcPr><w:p w14:paraId="40C9B450"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>名称
<w:tcPr><w:tcW w:w="1843" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="B4C6E7" w:themeFill="accent5" w:themeFillTint="66"/></w:tcPr><w:p w14:paraId="15172D7E"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>类型

---

数据结构
图1 通讯协议数据结构
2.1 通讯包结构组成
表1 通讯包结构组成表
<w:tblPr><w:tblStyle w:val="10"/><w:tblW w:w="0" w:type="auto"/><w:tblInd w:w="0" w:type="dxa"/><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblLayout w:type="autofit"/><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPr><w:tblGrid><w:gridCol w:w="1696"/><w:gridCol w:w="1843"/><w:gridCol w:w="1559"/><w:gridCol w:w="3198"/></w:tblGrid><w:tr w14:paraId="77AEC5D0"><w:tblPrEx><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPrEx><w:tc><w:tcPr><w:tcW w:w="1696" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="B4C6E7" w:themeFill="accent5" w:themeFillTint="66"/></w:tcPr><w:p w14:paraId="40C9B450"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>名称
<w:tcPr><w:tcW w:w="1843" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="B4C6E7" w:themeFill="accent5" w:themeFillTint="66"/></w:tcPr><w:p w14:paraId="15172D7E"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>类型
<w:tcPr><w:tcW w:w="1559" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="B4C6E7" w:themeFill="accent5" w:themeFillTint="66"/></w:tcPr><w:p w14:paraId="3538F8BD"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>长度

---

<w:tcPr><w:tcW w:w="1843" w:type="dxa"/></w:tcPr><w:p w14:paraId="61FA0107"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>字符
<w:tcPr><w:tcW w:w="1559" w:type="dxa"/></w:tcPr><w:p w14:paraId="4F0654B1"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>2
<w:tcPr><w:tcW w:w="3198" w:type="dxa"/></w:tcPr><w:p w14:paraId="40EBDA66"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>固定为<CR><LF>(回车、换行)
2.2 数据段结构组成
表2 数据段结构组成表
<w:tblPr><w:tblStyle w:val="10"/><w:tblW w:w="0" w:type="auto"/><w:tblInd w:w="0" w:type="dxa"/><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblLayout w:type="autofit"/><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPr><w:tblGrid><w:gridCol w:w="1428"/><w:gridCol w:w="971"/><w:gridCol w:w="1208"/><w:gridCol w:w="4610"/></w:tblGrid><w:tr w14:paraId="75BC9FC7"><w:tblPrEx><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPrEx><w:tc><w:tcPr><w:tcW w:w="1428" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="B4C6E7" w:themeFill="accent5" w:themeFillTint="66"/></w:tcPr><w:p w14:paraId="285FAEFF"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>名称
<w:tcPr><w:tcW w:w="971" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="B4C6E7" w:themeFill="accent5" w:themeFillTint="66"/></w:tcPr><w:p w14:paraId="79C93623"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>类型

---

<w:tcPr><w:tcW w:w="1559" w:type="dxa"/></w:tcPr><w:p w14:paraId="4F0654B1"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>2
<w:tcPr><w:tcW w:w="3198" w:type="dxa"/></w:tcPr><w:p w14:paraId="40EBDA66"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>固定为<CR><LF>(回车、换行)
2.2 数据段结构组成
表2 数据段结构组成表
<w:tblPr><w:tblStyle w:val="10"/><w:tblW w:w="0" w:type="auto"/><w:tblInd w:w="0" w:type="dxa"/><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblLayout w:type="autofit"/><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPr><w:tblGrid><w:gridCol w:w="1428"/><w:gridCol w:w="971"/><w:gridCol w:w="1208"/><w:gridCol w:w="4610"/></w:tblGrid><w:tr w14:paraId="75BC9FC7"><w:tblPrEx><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPrEx><w:tc><w:tcPr><w:tcW w:w="1428" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="B4C6E7" w:themeFill="accent5" w:themeFillTint="66"/></w:tcPr><w:p w14:paraId="285FAEFF"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>名称
<w:tcPr><w:tcW w:w="971" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="B4C6E7" w:themeFill="accent5" w:themeFillTint="66"/></w:tcPr><w:p w14:paraId="79C93623"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>类型
<w:tcPr><w:tcW w:w="1208" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="B4C6E7" w:themeFill="accent5" w:themeFillTint="66"/></w:tcPr><w:p w14:paraId="372EE430"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>长度

---

<w:tcPr><w:tcW w:w="1208" w:type="dxa"/></w:tcPr><w:p w14:paraId="11A14F3C"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>0≤n≤990
<w:tcPr><w:tcW w:w="4610" w:type="dxa"/></w:tcPr><w:p w14:paraId="74697055"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>CP=&&数据区&&
2.3 数据区
2.3.1 结构定义
字段与其值用’=’连接；在数据区中，同一项目的不同分类值用’，‘来分隔，不同项目之间用’；‘来分隔。
2.3.2 字段定义
2.3.2.1 字段名

---

<w:tblPrEx><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPrEx><w:tc><w:tcPr><w:tcW w:w="2765" w:type="dxa"/></w:tcPr><w:p w14:paraId="3EB0DCD1"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>100
<w:tcPr><w:tcW w:w="2765" w:type="dxa"/></w:tcPr><w:p w14:paraId="221423C1"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>未知错误
3.3 命令编码（可扩充）
</w:r><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:szCs w:val="21"/></w:rPr><w:t>对应“图4通讯协议数据结构”中的命令编码。
3.3.1 类别划分
共有四类命令（即请求命令、上传命令、通知命令和交互命令），命令编码分为以下四组：
100~199表示初始化命令和参数命令编码；

---

<w:tblPrEx><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPrEx><w:tc><w:tcPr><w:tcW w:w="1659" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="FFC000" w:themeFill="accent4"/></w:tcPr><w:p w14:paraId="588FD05D"><w:pPr><w:rPr><w:rFonts w:hint="default"/><w:sz w:val="18"/><w:szCs w:val="18"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t>停止
<w:tcPr><w:tcW w:w="1313" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="FFC000" w:themeFill="accent4"/></w:tcPr><w:p w14:paraId="4AAC7393"><w:pPr><w:rPr><w:rFonts w:hint="default"/><w:sz w:val="18"/><w:szCs w:val="18"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t>307
<w:tcPr><w:tcW w:w="1134" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="FFC000" w:themeFill="accent4"/></w:tcPr><w:p w14:paraId="29668501"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>请求命令
<w:tcPr><w:tcW w:w="2914" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="FFC000" w:themeFill="accent4"/></w:tcPr><w:p w14:paraId="7D641039"><w:pPr><w:rPr><w:rFonts w:hint="default"/><w:sz w:val="18"/><w:szCs w:val="18"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t>用于上位机控制机台停止生产流程
<w:tblPrEx><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPrEx><w:tc><w:tcPr><w:tcW w:w="1659" w:type="dxa"/></w:tcPr><w:p w14:paraId="1B0F5A3B"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>预留控制命令
<w:tcPr><w:tcW w:w="2914" w:type="dxa"/></w:tcPr><w:p w14:paraId="4077EDB3"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>预留命令范围308~399
<w:tblPrEx><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPrEx><w:tc><w:tcPr><w:tcW w:w="8296" w:type="dxa"/><w:gridSpan w:val="5"/><w:shd w:val="clear" w:color="auto" w:fill="B4C6E7" w:themeFill="accent5" w:themeFillTint="66"/></w:tcPr><w:p w14:paraId="48E353FD"><w:pPr><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:sz w:val="18"/><w:szCs w:val="18"/></w:rPr><w:t>交互命令

---

<w:tblPrEx><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPrEx><w:tc><w:tcPr><w:tcW w:w="739" w:type="dxa"/><w:vAlign w:val="center"/></w:tcPr><w:p w14:paraId="3E5545CB"><w:pPr><w:pStyle w:val="16"/><w:bidi w:val="0"/><w:rPr><w:rFonts w:hint="default"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t>执行过程
<w:tcPr><w:tcW w:w="9769" w:type="dxa"/><w:gridSpan w:val="3"/></w:tcPr><w:p w14:paraId="465F896E"><w:pPr><w:pStyle w:val="16"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="6"/></w:numPr><w:bidi w:val="0"/><w:rPr><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t>上位机发送 “设备初始化”命令；
机台检查请求报文并返回请求应答；
3、机台接收“设备初始化”命令并执行 设备初始化流程；
4、机台完成设备初始化流程后返回“执行结果”；
5、上位机接收“执行结果”，根据执行结果标志 ExeRtn 的值判断请求是否完成，请求执行完毕；
表8设置机台工艺参数

---

<w:tcPr><w:tcW w:w="9769" w:type="dxa"/><w:gridSpan w:val="3"/></w:tcPr><w:p w14:paraId="465F896E"><w:pPr><w:pStyle w:val="16"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="6"/></w:numPr><w:bidi w:val="0"/><w:rPr><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t>上位机发送 “设备初始化”命令；
机台检查请求报文并返回请求应答；
3、机台接收“设备初始化”命令并执行 设备初始化流程；
4、机台完成设备初始化流程后返回“执行结果”；
5、上位机接收“执行结果”，根据执行结果标志 ExeRtn 的值判断请求是否完成，请求执行完毕；
表8设置机台工艺参数
<w:tblPr><w:tblStyle w:val="10"/><w:tblW w:w="10508" w:type="dxa"/><w:tblInd w:w="-799" w:type="dxa"/><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblLayout w:type="fixed"/><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPr><w:tblGrid><w:gridCol w:w="738"/><w:gridCol w:w="970"/><w:gridCol w:w="3146"/><w:gridCol w:w="5654"/></w:tblGrid><w:tr w14:paraId="51BF9D7E"><w:tblPrEx><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPrEx><w:tc><w:tcPr><w:tcW w:w="738" w:type="dxa"/><w:shd w:val="clear" w:color="auto" w:fill="00FFFF"/></w:tcPr><w:p w14:paraId="2CDA8B12"><w:pPr><w:widowControl w:val="0"/><w:jc w:val="both"/><w:rPr><w:rFonts w:hint="default"/><w:vertAlign w:val="baseline"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:vertAlign w:val="baseline"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t>类别

---

<w:tblPrEx><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPrEx><w:tc><w:tcPr><w:tcW w:w="738" w:type="dxa"/></w:tcPr><w:p w14:paraId="61E50C6B"><w:pPr><w:widowControl w:val="0"/><w:jc w:val="both"/><w:rPr><w:rFonts w:hint="default"/><w:vertAlign w:val="baseline"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:vertAlign w:val="baseline"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t>执行过程
<w:tcPr><w:tcW w:w="9770" w:type="dxa"/><w:gridSpan w:val="3"/></w:tcPr><w:p w14:paraId="79DBA53D"><w:pPr><w:widowControl w:val="0"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="7"/></w:numPr><w:bidi w:val="0"/><w:jc w:val="both"/><w:rPr><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:vertAlign w:val="baseline"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t>上位机发送 “设置机台工艺参数”命令；
2、机台检查请求报文并返回请求应答；
3、机台接收“设置机台工艺参数”命令并执行设置机台工艺参数流程；
4、机台完成工艺参数设置后返回“执行结果”；
5、上位机接收“执行结果”，根据执行结果标志 ExeRtn 的值判断请求是否完成，请求执行完毕；
表9 查询机台工艺参数

---

<w:tblPrEx><w:tblBorders><w:top w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:left w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:bottom w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:right w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideH w:val="single" w:color="auto" w:sz="4" w:space="0"/><w:insideV w:val="single" w:color="auto" w:sz="4" w:space="0"/></w:tblBorders><w:tblCellMar><w:top w:w="0" w:type="dxa"/><w:left w:w="108" w:type="dxa"/><w:bottom w:w="0" w:type="dxa"/><w:right w:w="108" w:type="dxa"/></w:tblCellMar></w:tblPrEx><w:tc><w:tcPr><w:tcW w:w="739" w:type="dxa"/></w:tcPr><w:p w14:paraId="796FEFA3"><w:pPr><w:widowControl w:val="0"/><w:jc w:val="both"/><w:rPr><w:rFonts w:hint="default"/><w:vertAlign w:val="baseline"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:vertAlign w:val="baseline"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t>执行过程
<w:tcPr><w:tcW w:w="9777" w:type="dxa"/><w:gridSpan w:val="3"/></w:tcPr><w:p w14:paraId="459419CC"><w:pPr><w:widowControl w:val="0"/><w:numPr><w:ilvl w:val="0"/><w:numId w:val="10"/></w:numPr><w:bidi w:val="0"/><w:jc w:val="both"/><w:rPr><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia"/><w:vertAlign w:val="baseline"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t>上位机发送 “暂停动作”命令；
2、机台检查请求报文并返回请求应答；
3、机台停止生产流程
3、返回执行结果
4、上位机接收“执行结果”，根据执行结果标志 ExeRtn 的值判断请求是否完成，请求执行完毕；
表9清除动作

---

<w:tab w:val="right" w:leader="dot" w:pos="8306"/></w:tabs></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:fldChar w:fldCharType="begin"/></w:r><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:instrText xml:space="preserve"> HYPERLINK \l _Toc26567 </w:instrText></w:r><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:fldChar w:fldCharType="separate"/></w:r><w:r><w:rPr><w:rFonts w:hint="default"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t xml:space="preserve">8 状态展示&控制</w:r><w:r><w:fldChar w:fldCharType="begin"/></w:r><w:r><w:instrText xml:space="preserve"> PAGEREF _Toc26567 \h </w:instrText></w:r><w:r><w:fldChar w:fldCharType="separate"/></w:r><w:r><w:t>13
<w:tab w:val="right" w:leader="dot" w:pos="8306"/></w:tabs></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:fldChar w:fldCharType="begin"/></w:r><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:instrText xml:space="preserve"> HYPERLINK \l _Toc8318 </w:instrText></w:r><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:fldChar w:fldCharType="separate"/></w:r><w:r><w:rPr><w:rFonts w:hint="default"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t xml:space="preserve">9 设置</w:r><w:r><w:fldChar w:fldCharType="begin"/></w:r><w:r><w:instrText xml:space="preserve"> PAGEREF _Toc8318 \h </w:instrText></w:r><w:r><w:fldChar w:fldCharType="separate"/></w:r><w:r><w:t>14
<w:tab w:val="right" w:leader="dot" w:pos="8306"/></w:tabs></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:fldChar w:fldCharType="begin"/></w:r><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:instrText xml:space="preserve"> HYPERLINK \l _Toc16835 </w:instrText></w:r><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:fldChar w:fldCharType="separate"/></w:r><w:r><w:rPr><w:rFonts w:hint="default"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t xml:space="preserve">10 运动指令执行解析</w:r><w:r><w:fldChar w:fldCharType="begin"/></w:r><w:r><w:instrText xml:space="preserve"> PAGEREF _Toc16835 \h </w:instrText></w:r><w:r><w:fldChar w:fldCharType="separate"/></w:r><w:r><w:t>14
<w:tab w:val="right" w:leader="dot" w:pos="8306"/></w:tabs></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:fldChar w:fldCharType="begin"/></w:r><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:instrText xml:space="preserve"> HYPERLINK \l _Toc30506 </w:instrText></w:r><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:fldChar w:fldCharType="separate"/></w:r><w:r><w:rPr><w:rFonts w:hint="default"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t xml:space="preserve">11 生产流程</w:r><w:r><w:fldChar w:fldCharType="begin"/></w:r><w:r><w:instrText xml:space="preserve"> PAGEREF _Toc30506 \h </w:instrText></w:r><w:r><w:fldChar w:fldCharType="separate"/></w:r><w:r><w:t>18
<w:tab w:val="right" w:leader="dot" w:pos="8306"/></w:tabs></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:fldChar w:fldCharType="begin"/></w:r><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:instrText xml:space="preserve"> HYPERLINK \l _Toc22783 </w:instrText></w:r><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:fldChar w:fldCharType="separate"/></w:r><w:r><w:rPr><w:rFonts w:hint="default"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t xml:space="preserve">12 电机设置</w:r><w:r><w:fldChar w:fldCharType="begin"/></w:r><w:r><w:instrText xml:space="preserve"> PAGEREF _Toc22783 \h </w:instrText></w:r><w:r><w:fldChar w:fldCharType="separate"/></w:r><w:r><w:t>19
<w:tab w:val="right" w:leader="dot" w:pos="8306"/></w:tabs></w:pPr><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:fldChar w:fldCharType="begin"/></w:r><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:instrText xml:space="preserve"> HYPERLINK \l _Toc1108 </w:instrText></w:r><w:r><w:rPr><w:rFonts w:hint="eastAsia" w:ascii="宋体" w:hAnsi="宋体" w:eastAsia="宋体" w:cs="宋体"/><w:bCs/><w:szCs w:val="40"/><w:lang w:val="en-US" w:eastAsia="zh-CN" w:bidi="ar-SA"/></w:rPr><w:fldChar w:fldCharType="separate"/></w:r><w:r><w:rPr><w:rFonts w:hint="default"/><w:lang w:val="en-US" w:eastAsia="zh-CN"/></w:rPr><w:t xml:space="preserve">13 手轮参数</w:r><w:r><w:fldChar w:fldCharType="begin"/></w:r><w:r><w:instrText xml:space="preserve"> PAGEREF _Toc1108 \h </w:instrText></w:r><w:r><w:fldChar w:fldCharType="separate"/></w:r><w:r><w:t>20
铜粒子设备软件使用说明书

---

图 3.2 相对原点设定
在相对位置对应的区域内右击鼠标，会出现如图 3.2 所示的 上下文菜单，点击重置后会将Tool当前位置设备相对坐标系的原点。
机床坐标系说明
机床坐标系以外置的原点开关作为绝对参考，当工控机初次上电上位机软件首次运行必须在控制面板中使用流程控制的初始化按钮对进行初始化对各轴进行回原操作。软件仅仅保证在各轴回原后的情况下轴的位置显示准确。
图 3.3 机床坐标系
机床坐标系如图3.3 所示，当操作员在机床正前方那么三个自由度的方向和分布可以参考上图。
参数管理

---

点动模式下长按按钮对应的轴以点动速度持续移动直到按钮被松开；
步动模式下单击按钮轴移动对应的步长；
回原模式下单机轴的正向移动按钮，轴将移动到位置0处；
流程控制
图 4.2 流程控制按钮
初始化按钮
图 4.3 初始化流程图

---

步动模式下单击按钮轴移动对应的步长；
回原模式下单机轴的正向移动按钮，轴将移动到位置0处；
流程控制
图 4.2 流程控制按钮
初始化按钮
图 4.3 初始化流程图
初始化按钮对各轴进行回原操作（若上电后未在上位软件中执行回原操作），并将Z抬升到安全高度，同时修改部分软件状态（包括修改设备状态位为初始化完成）。

---

流程控制
图 4.2 流程控制按钮
初始化按钮
图 4.3 初始化流程图
初始化按钮对各轴进行回原操作（若上电后未在上位软件中执行回原操作），并将Z抬升到安全高度，同时修改部分软件状态（包括修改设备状态位为初始化完成）。
启动按钮
图 4.4 运行流程图

---

图 4.3 初始化流程图
初始化按钮对各轴进行回原操作（若上电后未在上位软件中执行回原操作），并将Z抬升到安全高度，同时修改部分软件状态（包括修改设备状态位为初始化完成）。
启动按钮
图 4.4 运行流程图
运行按钮会启动加工流程，对动作队列中的指令进行逐一执行，在整个指令执行过程中会对暂停信号和停止信号进行检查，
暂停信号有效则加工流程暂停直到使用继续按钮恢复执行，恢复执行时将执行被暂停指令的下一条指令。
停止信号有效则停止加工流程。

---

初始化按钮对各轴进行回原操作（若上电后未在上位软件中执行回原操作），并将Z抬升到安全高度，同时修改部分软件状态（包括修改设备状态位为初始化完成）。
启动按钮
图 4.4 运行流程图
运行按钮会启动加工流程，对动作队列中的指令进行逐一执行，在整个指令执行过程中会对暂停信号和停止信号进行检查，
暂停信号有效则加工流程暂停直到使用继续按钮恢复执行，恢复执行时将执行被暂停指令的下一条指令。
停止信号有效则停止加工流程。
当单条指令执行失败，暂停信号会自动触发，此时操机员可以手动排查问题并继续执行。

---

启动按钮
图 4.4 运行流程图
运行按钮会启动加工流程，对动作队列中的指令进行逐一执行，在整个指令执行过程中会对暂停信号和停止信号进行检查，
暂停信号有效则加工流程暂停直到使用继续按钮恢复执行，恢复执行时将执行被暂停指令的下一条指令。
停止信号有效则停止加工流程。
当单条指令执行失败，暂停信号会自动触发，此时操机员可以手动排查问题并继续执行。
暂停按钮

---

图 4.4 运行流程图
运行按钮会启动加工流程，对动作队列中的指令进行逐一执行，在整个指令执行过程中会对暂停信号和停止信号进行检查，
暂停信号有效则加工流程暂停直到使用继续按钮恢复执行，恢复执行时将执行被暂停指令的下一条指令。
停止信号有效则停止加工流程。
当单条指令执行失败，暂停信号会自动触发，此时操机员可以手动排查问题并继续执行。
暂停按钮
设置暂停信号有效，停止各轴(不包含主轴)运动，各轴的运动停止会导致指令执行失效（触发指令执行失败警报）设备状态转移为 P 暂停。

---

图 6.3夹具碰撞报警
图 6.2 ，6.3 中附上了两种（夹具碰撞，急停按钮触发）系统中出现的报警弹窗。
报警处理
图6.3 报警处理流程
报警处理失败后请检查设备是否异常，给出两种可选的异常查看方法，
查看驱动器数显面板是否出现错误码
查看 电机配置界面轴项是否红色

---

快速移动旨在让轴以最快的速度移动刀具到切削起点，在机台中手动编写时的格式为，
FastMove SX {sxVal} SY {syVal} SZ {szVal} EX {exVal} EY{eyVal} EZ {ezVal}
对于共有 6 个属性值，以 S引导的X,Y,Z 值为路径的起点 ，以 E引导的 X,Y,Z 为路劲的终点。快速移动指令以 参数管理中设定的 空跑速度 作为轴的移动速度。这6个属性值并不是必须的，你可以仅仅提供起始点位中 X,Y,Z 轴中的任意多个而不提供结束X,Y,Z。
图10.1 快速移动起点移动流程图
以上是对快速移动指令到达所设定 SX,SY,SZ 的流程描述 ，在进行起点移动时会遵循：
若SZ设定，先到位Z轴
SX,SY值若都被设定，则二轴同步移动

---

FastMove SX {sxVal} SY {syVal} SZ {szVal} EX {exVal} EY{eyVal} EZ {ezVal}
对于共有 6 个属性值，以 S引导的X,Y,Z 值为路径的起点 ，以 E引导的 X,Y,Z 为路劲的终点。快速移动指令以 参数管理中设定的 空跑速度 作为轴的移动速度。这6个属性值并不是必须的，你可以仅仅提供起始点位中 X,Y,Z 轴中的任意多个而不提供结束X,Y,Z。
图10.1 快速移动起点移动流程图
以上是对快速移动指令到达所设定 SX,SY,SZ 的流程描述 ，在进行起点移动时会遵循：
若SZ设定，先到位Z轴
SX,SY值若都被设定，则二轴同步移动
停止信号或暂停信号的生效会使得轴运动终止，触发指令执行失败警报

---

若SZ设定，先到位Z轴
SX,SY值若都被设定，则二轴同步移动
停止信号或暂停信号的生效会使得轴运动终止，触发指令执行失败警报
快速移动终点的运动流程类似，但是EZ 的值若设定，则Z轴会在 EX,EY到位完成后开始移动
切割移动
快速移动旨在让轴以设定的进给和主轴转速对铜板上的粒子进行稳定高效的切削，在机台中手动编写时的格式为，
FastCut SX {sxVal} SY {syVal} SZ {szVal} EX {exVal} EY{eyVal} EZ {ezVal} V {vVal} R {rVal}

---

快速移动旨在让轴以设定的进给和主轴转速对铜板上的粒子进行稳定高效的切削，在机台中手动编写时的格式为，
FastCut SX {sxVal} SY {syVal} SZ {szVal} EX {exVal} EY{eyVal} EZ {ezVal} V {vVal} R {rVal}
共可以设置8个参数，起点的 SX,SY,SZ 的到位会以快速移动相同的指令执行到位操作，而EX,EY,EZ 的点位会以坐标系运动进行插补到位。
图10.2 切割移动流程
切割移动的流程如图6.5所示，在插补运动中会依据 EX,EY,EZ 值的设定情况开启一个 2 轴 或3 轴的插补运动。为了确保切削动作的一致性，无论EX,EY,EZ 三值设定与否只要切割移动的终点移动动作执行即即使用坐标系插补进行移动，EX,EY,EZ 中缺省的设定值使用各轴的当前位置。
夹具操作
批量开闭

---

FastCut SX {sxVal} SY {syVal} SZ {szVal} EX {exVal} EY{eyVal} EZ {ezVal} V {vVal} R {rVal}
共可以设置8个参数，起点的 SX,SY,SZ 的到位会以快速移动相同的指令执行到位操作，而EX,EY,EZ 的点位会以坐标系运动进行插补到位。
图10.2 切割移动流程
切割移动的流程如图6.5所示，在插补运动中会依据 EX,EY,EZ 值的设定情况开启一个 2 轴 或3 轴的插补运动。为了确保切削动作的一致性，无论EX,EY,EZ 三值设定与否只要切割移动的终点移动动作执行即即使用坐标系插补进行移动，EX,EY,EZ 中缺省的设定值使用各轴的当前位置。
夹具操作
批量开闭
夹具操作旨在运动过程中对夹具进行快速开闭，在机台中进行指令编写时遵循如下格式

---

批量开闭
夹具操作旨在运动过程中对夹具进行快速开闭，在机台中进行指令编写时遵循如下格式
SetDO/ResetDO {no1},{no2},{no3}...{noN}
图10.3 DO操作流程
机台中一共16个夹具可以在指令中对夹具进行批量操作，在开闭夹具时由于设计原因通常将夹具分为两个批次进行操作。在写完夹具的开闭信号后会等待夹具的输入信号到位，若在指定的时间内输入信号到位完成则认为夹具操作成功，可以执行下一步指令。
混合开闭
有时通过混合开闭夹具功能可以加快设备加工效率，混合开闭夹具指令的语法如下:

---

OpDO {no1}:{val1},{no2}:{val2},{no3}:{val3}...{noN}
图10.4 夹具分布图
夹具的开闭动作是螺旋上升/下降的，对于任意一条边的夹具中间的两个往中心旋转，两侧的两个向两侧旋转。
生产流程
图 11.1 生产流程a
%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%E5%88%80%E5%85%B7%E5%9B%9E%E5%AE%89%E5%85%A8%E4%BD%8D%E7%BD%AE%22%20style%3D%22rounded%3D1%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BabsoluteArcSize%3D1%3BarcSize%3D14%3BstrokeWidth%3D2%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22325%22%20y%3D%22680%22%20width%3D%22100%22%20height%3D%2240%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3
图 11.2 生产流程 b

---

图10.4 夹具分布图
夹具的开闭动作是螺旋上升/下降的，对于任意一条边的夹具中间的两个往中心旋转，两侧的两个向两侧旋转。
生产流程
图 11.1 生产流程a
%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%E5%88%80%E5%85%B7%E5%9B%9E%E5%AE%89%E5%85%A8%E4%BD%8D%E7%BD%AE%22%20style%3D%22rounded%3D1%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BabsoluteArcSize%3D1%3BarcSize%3D14%3BstrokeWidth%3D2%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22325%22%20y%3D%22680%22%20width%3D%22100%22%20height%3D%2240%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3
图 11.2 生产流程 b
电机设置

---

生产流程
图 11.1 生产流程a
%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%E5%88%80%E5%85%B7%E5%9B%9E%E5%AE%89%E5%85%A8%E4%BD%8D%E7%BD%AE%22%20style%3D%22rounded%3D1%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BabsoluteArcSize%3D1%3BarcSize%3D14%3BstrokeWidth%3D2%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22325%22%20y%3D%22680%22%20width%3D%22100%22%20height%3D%2240%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3
图 11.2 生产流程 b
电机设置
图 12.1 电机设置
使用组合键盘 Shift+Ctrl+A 进入如图12.1 所示的电机设置界面。
